# Тестирование условной логики в формах

## Быстрый старт

1. Запустите приложение:
   ```bash
   bun run dev
   ```

2. Откройте тестовую форму:
   ```
   http://localhost:3000/forms/9e976e7a-ab51-4faf-b2e4-fb8b7718f9ea
   ```

3. Протестируйте условную логику:
   - Выберите "Student" в поле "What is your role?" → появится поле "Student ID"
   - Выберите "Teacher" → появится поле "Department"
   - Выберите "Administrator" → появится поле "Years of Experience"
   - Выберите "Yes" в поле "Do you need additional support?" → появится поле "Describe the support you need"

## Редактирование формы

Для редактирования тестовой формы:
```
http://localhost:3000/admin/forms/edit/9e976e7a-ab51-4faf-b2e4-fb8b7718f9ea
```

## Что реализовано

✅ **Интерфейс настройки условной логики**
- Включение/выключение условной логики
- Выбор действия (показать/скрыть)
- Выбор поля-зависимости
- Выбор условия сравнения
- Ввод/выбор значения для сравнения
- Предварительный просмотр логики

✅ **Поддерживаемые условия**
- Equals (равно)
- Not equals (не равно)
- Contains (содержит)
- Does not contain (не содержит)
- Greater than (больше)
- Less than (меньше)
- Is empty (пустое)
- Is not empty (не пустое)

✅ **Работа в публичной форме**
- Динамическое показ/скрытие полей
- Плавные анимации появления/исчезновения
- Исключение скрытых полей из валидации
- Исключение скрытых полей из отправки данных

✅ **Умный интерфейс**
- Автоматический выбор типа ввода значения
- Выпадающий список для полей с опциями
- Числовой ввод для числовых полей
- Предварительный просмотр настроенной логики

## Структура данных

Условная логика хранится в поле `conditional_logic` в формате:
```json
{
  "enabled": true,
  "action": "show",
  "depends_on": "field-uuid",
  "condition": "equals",
  "value": "student"
}
```

## Файлы изменений

- `components/form-builder/themed-form-renderer.tsx` - логика отображения условных полей
- `components/form-builder/form-properties-panel.tsx` - интерфейс настройки
- `lib/store/form-fields-store.ts` - типы данных
- База данных: поле `conditional_logic` в таблице `form_fields` 